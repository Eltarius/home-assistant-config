---
# Sequence used for the vacuum each workdays
#
# https://www.home-assistant.io/docs/scripts/
#
vacuum_on_the_carpet_workday_sequence:
  alias: Sequence de nettoyage de Rocky
  sequence:
    # Start with kitchen cleaning
    - service: script.turn_on
      entity_id: script.launch_vacuum_in_kitchen
      data:
        variables:
          repetition: 2
    - wait_template: "{{ (is_state('vacuum.xiaomi_vacuum_cleaner', 'docked'))or (is_state('vacuum.xiaomi_vacuum_cleaner', 'idle'))}}"
    # then clean the entrance
    - service: script.turn_on
      entity_id: script.launch_vacuum_in_the_entrance
      data:
        variables:
          repetition: 2
    - wait_template: "{{ (is_state('vacuum.xiaomi_vacuum_cleaner', 'docked'))or (is_state('vacuum.xiaomi_vacuum_cleaner', 'idle'))}}"
    # then clean the living room avoiding potential obstacles
    - service: script.turn_on
      entity_id: script.launch_vacuum_in_livingroom_safe
      data:
        variables:
          repetition: 2
          